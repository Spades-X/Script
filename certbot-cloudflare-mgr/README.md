# Let's Encrypt Cloudflare è¯ä¹¦è‡ªåŠ¨åŒ–ç®¡ç†é¢æ¿

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-Ubuntu%20%7C%20Debian-orange.svg)
![Tool](https://img.shields.io/badge/tool-Certbot%20%7C%20Cloudflare-yellow.svg)

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º **Cloudflare ç”¨æˆ·** è®¾è®¡çš„äº¤äº’å¼ SSL è¯ä¹¦ç®¡ç†å·¥å…·ã€‚å®ƒè§£å†³äº†é€šé…ç¬¦è¯ä¹¦ç”³è¯·ç¹çã€æ‰‹åŠ¨ç»­æœŸæ˜“å¿˜ã€ä»¥åŠè¯ä¹¦æ–‡ä»¶å› æƒé™é—®é¢˜éš¾ä»¥æå–åˆ°æœ¬åœ°ç­‰ç—›ç‚¹ã€‚

---

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ä¸€é”®ç¯å¢ƒé›†æˆ**ï¼šè‡ªåŠ¨å®‰è£… Snapdã€Certbot æ ¸å¿ƒåŠ Cloudflare DNS ä¸“ç”¨æ’ä»¶ã€‚
- **é€šé…ç¬¦è¯ä¹¦æ”¯æŒ**ï¼šæ”¯æŒç”³è¯· `*.example.com` æ ¼å¼è¯ä¹¦ï¼Œä¿æŠ¤æ‰€æœ‰å­åŸŸåã€‚
- **æè‡´è‡ªåŠ¨åŒ–**ï¼š
  - **è‡ªåŠ¨ç»­è®¢**ï¼šåˆ©ç”¨ Systemd Timer å®ç°è¯ä¹¦åˆ°æœŸè‡ªåŠ¨æ›´æ–°ã€‚
  - **è‡ªåŠ¨åŒæ­¥ï¼ˆDeploy Hookï¼‰**ï¼šè¯ä¹¦æ›´æ–°åï¼Œè‡ªåŠ¨å°†æœ€æ–°æ–‡ä»¶æå–åˆ°æŒ‡å®šä¸‹è½½ç›®å½•ã€‚
- **æƒé™éš”ç¦»**ï¼šè§£å†³ `/etc/letsencrypt` ç›®å½•æƒé™è¿‡é«˜å¯¼è‡´æ™®é€šç”¨æˆ·ï¼ˆæˆ– SFTP å·¥å…·ï¼‰æ— æ³•ä¸‹è½½è¯ä¹¦çš„é—®é¢˜ã€‚
- **äº¤äº’å¼èœå•**ï¼šå…¨ä¸­æ–‡äº¤äº’ï¼Œæ”¯æŒåŸŸåå¢åŠ ã€åˆ é™¤ã€çŠ¶æ€æŸ¥è¯¢åŠè·¯å¾„æŸ¥çœ‹ã€‚
- **Mac/æœ¬åœ°å‹å¥½**ï¼šè‡ªåŠ¨ç”Ÿæˆ `scp` ä¸‹è½½å‘½ä»¤ï¼Œä¸€é”®å°†è¯ä¹¦æ‹‰å›æœ¬åœ°æ¡Œé¢ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰ææ¡ä»¶
- **åŸŸåç®¡ç†**ï¼šåŸŸåçš„ DNS è§£æå¿…é¡»æ‰˜ç®¡åœ¨ [Cloudflare](https://www.cloudflare.com/)ã€‚
- **API Token**ï¼š
  - ç™»å½• Cloudflare -> æˆ‘çš„ä¸ªäººèµ„æ–™ -> API ä»¤ç‰Œã€‚
  - åˆ›å»ºä»¤ç‰Œ -> ä½¿ç”¨ **â€œç¼–è¾‘åŒºåŸŸ DNSâ€** æ¨¡æ¿ã€‚
  - æƒé™éœ€åŒ…å«ï¼š`åŒºåŸŸ - DNS - ç¼–è¾‘`ã€‚
- **æ“ä½œç³»ç»Ÿ**ï¼šå»ºè®®ä½¿ç”¨ Ubuntu 20.04+ æˆ– Debian 10+ã€‚

### 2. ä¸‹è½½å¹¶è¿è¡Œ
åœ¨æ‚¨çš„æœåŠ¡å™¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯å¯åŠ¨ç®¡ç†é¢æ¿ï¼š

```bash
curl -sSO https://raw.githubusercontent.com/Spades-X/Script/refs/heads/main/certbot-cloudflare-mgr/ssl_mgr.sh && chmod +x ssl_mgr.sh && sudo ./ssl_mgr.sh
